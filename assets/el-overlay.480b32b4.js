import{C as e,aO as t,D as o,R as n,as as s,at as a,ai as d,aQ as u,q as l,bD as i,bI as r,bN as c,bJ as m,aj as p,E as v,F as f,d as y,Q as g,g as b,z as h,aB as M}from"./index.97fe2dd0.js";import{g as E}from"./scroll2.65f280d4.js";import{P as x}from"./vnode2.bd3322bd.js";const k=(s,a,d)=>{let u={offsetX:0,offsetY:0};const l=e=>{const t=e.clientX,o=e.clientY,{offsetX:a,offsetY:d}=u,l=s.value.getBoundingClientRect(),i=l.left,r=l.top,c=l.width,m=l.height,p=document.documentElement.clientWidth,v=document.documentElement.clientHeight,f=-i+a,y=-r+d,g=p-i-c+a,b=v-r-m+d,h=e=>{const l=Math.min(Math.max(a+e.clientX-t,f),g),i=Math.min(Math.max(d+e.clientY-o,y),b);u={offsetX:l,offsetY:i},s.value.style.transform=`translate(${n(l)}, ${n(i)})`},M=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",M)},i=()=>{a.value&&s.value&&a.value.removeEventListener("mousedown",l)};e((()=>{t((()=>{d.value?a.value&&s.value&&a.value.addEventListener("mousedown",l):i()}))})),o((()=>{i()}))},C=e=>{if(s(e)||a("[useLockscreen]","You need to pass a ref param to this function"),!d||u(document.body,"el-popup-parent--hidden"))return;let t=0,o=!1,n="0",p=0;const v=()=>{m(document.body,"el-popup-parent--hidden"),o&&(document.body.style.paddingRight=n)};l(e,(e=>{if(!e)return void v();o=!u(document.body,"el-popup-parent--hidden"),o&&(n=document.body.style.paddingRight,p=Number.parseInt(i(document.body,"paddingRight"),10)),t=E();const s=document.documentElement.clientHeight<document.body.scrollHeight,a=i(document.body,"overflowY");t>0&&(s||"scroll"===a)&&o&&(document.body.style.paddingRight=`${p+t}px`),r(document.body,"el-popup-parent--hidden")})),c((()=>v()))},w=e=>{if(!e)return{onClick:p,onMousedown:p,onMouseup:p};let t=!1,o=!1;return{onClick:n=>{t&&o&&e(n),t=o=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{o=e.target===e.currentTarget}}};const L=y({name:"ElOverlay",props:v({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:f([String,Array,Object])},zIndex:{type:f([String,Number])}}),emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:t,emit:o}){const n=g("overlay"),{onClick:s,onMousedown:a,onMouseup:d}=w(e.customMaskEvent?void 0:e=>{o("click",e)});return()=>e.mask?b("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:s,onMousedown:a,onMouseup:d},[h(t,"default")],x.STYLE|x.CLASS|x.PROPS,["onClick","onMouseup","onMousedown"]):M("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[h(t,"default")])}});export{L as E,C as a,w as b,k as u};

var e=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(o,s,l)=>s in o?e(o,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[s]=l,n=(e,o)=>{for(var s in o||(o={}))a.call(o,s)&&r(e,s,o[s]);if(l)for(var s of l(o))t.call(o,s)&&r(e,s,o[s]);return e},i=(e,l)=>o(e,s(l));import{d as c,B as d,o as f,c as u,e as m,z as p,n as b,a as g,t as y,g as v,w as h,v as x,X as k,P as C,W as $,Z as w,ar as j,_ as R,bV as _,aU as O,H as A,Q as I,m as H,A as E,az as M,aL as z,U as F,h as L,bu as P,$ as D,a5 as T,by as q,q as B,s as S,V as U,x as V,O as K,am as N,M as Q}from"./index.1e76493d.js";import{b as W,u as X,E as Z}from"./el-overlay.b8f8880a.js";import{d as G,a as J,b as Y,c as ee,u as oe}from"./use-dialog2.658693f1.js";import{u as se}from"./index2.c0b90f52.js";import{F as le,e as ae}from"./el-popper.21023e6d.js";import{c as te}from"./refs2.081655ba.js";import{u as re}from"./el-button.0e8e2c99.js";const ne=Symbol("dialogInjectionKey"),ie=["aria-label"],ce=["id"];var de=R(c(i(n({},{name:"ElDialogContent"}),{props:G,emits:J,setup(e){const{t:o}=se(),{Close:s}=_,{dialogRef:l,headerRef:a,bodyId:t,ns:r,style:n}=d(ne),{focusTrapRef:i}=d(le),c=te(i,l);return(e,l)=>(f(),u("div",{ref:g(c),class:b([g(r).b(),g(r).is("fullscreen",e.fullscreen),g(r).is("draggable",e.draggable),{[g(r).m("center")]:e.center},e.customClass]),style:w(g(n)),tabindex:"-1",onClick:l[1]||(l[1]=j((()=>{}),["stop"]))},[m("header",{ref_key:"headerRef",ref:a,class:b(g(r).e("header"))},[p(e.$slots,"header",{},(()=>[m("span",{role:"heading",class:b(g(r).e("title"))},y(e.title),3)])),e.showClose?(f(),u("button",{key:0,"aria-label":g(o)("el.dialog.close"),class:b(g(r).e("headerbtn")),type:"button",onClick:l[0]||(l[0]=o=>e.$emit("close"))},[v(g(C),{class:b(g(r).e("close"))},{default:h((()=>[(f(),x(k(e.closeIcon||g(s))))])),_:1},8,["class"])],10,ie)):$("v-if",!0)],2),m("div",{id:g(t),class:b(g(r).e("body"))},[p(e.$slots,"default")],10,ce),e.$slots.footer?(f(),u("footer",{key:0,class:b(g(r).e("footer"))},[p(e.$slots,"footer")],2)):$("v-if",!0)],6))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const fe=["aria-label","aria-labelledby","aria-describedby"];const ue=D(R(c(i(n({},{name:"ElDialog"}),{props:Y,emits:ee,setup(e,{expose:o}){const s=e,l=O();re({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},A((()=>!!l.title)));const a=I("dialog"),t=H(),r=H(),n=H(),{visible:i,titleId:c,bodyId:d,style:u,rendered:y,zIndex:k,afterEnter:C,afterLeave:j,beforeLeave:R,handleClose:_,onModalClick:D,onOpenAutoFocus:T,onCloseAutoFocus:q,onCloseRequested:B}=oe(s,t);E(ne,{dialogRef:t,headerRef:r,bodyId:d,ns:a,rendered:y,style:u});const S=W(D),U=A((()=>s.draggable&&!s.fullscreen));return X(t,r,U),o({visible:i,dialogContentRef:n}),(e,o)=>(f(),x(P,{to:"body",disabled:!e.appendToBody},[v(L,{name:"dialog-fade",onAfterEnter:g(C),onAfterLeave:g(j),onBeforeLeave:g(R)},{default:h((()=>[M(v(g(Z),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":g(k)},{default:h((()=>[m("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:g(c),"aria-describedby":g(d),class:b(`${g(a).namespace.value}-overlay-dialog`),onClick:o[0]||(o[0]=(...e)=>g(S).onClick&&g(S).onClick(...e)),onMousedown:o[1]||(o[1]=(...e)=>g(S).onMousedown&&g(S).onMousedown(...e)),onMouseup:o[2]||(o[2]=(...e)=>g(S).onMouseup&&g(S).onMouseup(...e))},[v(g(ae),{loop:"",trapped:g(i),"focus-start-el":"container",onFocusAfterTrapped:g(T),onFocusAfterReleased:g(q),onReleaseRequested:g(B)},{default:h((()=>[g(y)?(f(),x(de,{key:0,ref_key:"dialogContentRef",ref:n,"custom-class":e.customClass,center:e.center,"close-icon":e.closeIcon,draggable:g(U),fullscreen:e.fullscreen,"show-close":e.showClose,style:w(g(u)),title:e.title,onClose:g(_)},F({header:h((()=>[e.$slots.title?p(e.$slots,"title",{key:1}):p(e.$slots,"header",{key:0,close:g(_),titleId:g(c),titleClass:g(a).e("title")})])),default:h((()=>[p(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:h((()=>[p(e.$slots,"footer")]))}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):$("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,fe)])),_:3},8,["mask","overlay-class","z-index"]),[[z,g(i)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]));const me={class:"flex justify-between"},pe=c({name:"Dialog",props:{modelValue:T.bool.def(!1),title:T.string.def("Dialog"),fullscreen:T.bool.def(!0),maxHeight:T.oneOfType([String,Number]).def("500px")},setup(e){const o=e,s=O(),l=A((()=>{const e=["fullscreen","title","maxHeight"],s=N(),l=n(n({},s),o);for(const o in l)-1!==e.indexOf(o)&&delete l[o];return l})),a=H(!1),t=()=>{a.value=!g(a)},r=H(q(o.maxHeight)?`${o.maxHeight}px`:o.maxHeight);B((()=>a.value),(async e=>{if(await Q(),e){const e=document.documentElement.offsetHeight;r.value=e-55-60-(s.footer?63:0)+"px"}else r.value=q(o.maxHeight)?`${o.maxHeight}px`:o.maxHeight}),{immediate:!0});const i=A((()=>({height:g(r)})));return(o,r)=>{const n=S("Icon");return f(),x(g(ue),U(g(l),{fullscreen:a.value,"destroy-on-close":"","lock-scroll":"",draggable:"","close-on-click-modal":!1}),F({title:h((()=>[m("div",me,[p(o.$slots,"title",{},(()=>[V(y(e.title),1)])),e.fullscreen?(f(),x(n,{key:0,class:"mr-18px cursor-pointer is-hover mt-2px",icon:a.value?"zmdi:fullscreen-exit":"zmdi:fullscreen",color:"var(--el-color-info)",onClick:t},null,8,["icon"])):$("",!0)])])),default:h((()=>[v(g(K),{style:w(g(i))},{default:h((()=>[p(o.$slots,"default")])),_:3},8,["style"])])),_:2},[g(s).footer?{name:"footer",fn:h((()=>[p(o.$slots,"footer")]))}:void 0]),1040,["fullscreen"])}}});export{pe as _};
